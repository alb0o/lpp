#pragma paradigm hybrid

// Test rest parameters in functions

// Basic rest parameter
fn sum(first: int, ...rest) -> int {
    let total = first;
    print("First: ");
    print(first);
    print("\n");
    
    // Iterate over rest parameters
    for (let val in rest) {
        print("Adding: ");
        print(val);
        print("\n");
        total = total + val;
    }
    
    return total;
}

// Multiple regular params + rest
fn greet(greeting: string, name: string, ...titles) -> string {
    print(greeting);
    print(" ");
    print(name);
    
    for (let title in titles) {
        print(", ");
        print(title);
    }
    
    print("\n");
    return greeting;
}

// Only rest parameter
fn collect(...items) -> int {
    print("Collected items: ");
    let count = 0;
    for (let item in items) {
        print(item);
        print(" ");
        count = count + 1;
    }
    print("\n");
    return count;
}

// Main
fn main() -> int {
    // Test 1: sum with multiple args
    let result1 = sum(10, 20, 30, 40);
    print("Result 1: ");
    print(result1);
    print("\n");
    
    // Test 2: greet with titles
    let result2 = greet("Hello", "Alice", "Dr", "Prof", "PhD");
    
    // Test 3: collect various items
    let result3 = collect(1, 2, 3, 4, 5, 6, 7, 8, 9);
    
    return 0;
}
